@using EasyMicroservices.UI.BlazorComponents
@using EasyMicroservices.UI.Cores
@using EasyMicroservices.UI.TemplateGenerator.ViewModels.Actions
@using EasyMicroservices.UI.TemplateGenerator.ViewModels.Events
@using EasyMicroservices.UI.TemplateGenerator.ViewModels.Generators
@using MudBlazor
@using TemplateGenerators.GeneratedServices
@inject AddOrUpdateEventActionViewModel viewModel;

<MudRTLProvider RightToLeft="BaseViewModel.IsRightToLeft">
    <MudStack>
        <Actions @ref="ActionsView" @bind-SelectedAction="@viewModel.SelectedAction" />
        <EventActionsList @ref="EventActionsList" />
    </MudStack>
</MudRTLProvider>

@code {
    public AddOrUpdateEventActionViewModel ViewModel
    {
        get
        {
            return viewModel;
        }
    }

    protected override void OnInitialized()
    {
        ViewModel.BindPropertyChanged(StateHasChanged);
        base.OnInitialized();
    }

    [Parameter]
    [Category(CategoryTypes.FormComponent.Data)]
    public ActionContract SelectedAction
    {
        get
        {
            return viewModel.SelectedAction;
        }
        set
        {
            viewModel.SelectedAction = value;
        }
    }

    EventActionsList _eventActionsList;
    EventActionsList EventActionsList
    {
        get => _eventActionsList;
        set
        {
            _eventActionsList = value;
            ViewModel.EventActionsListViewModel = _eventActionsList.ViewModel;
        }
    }

    public Actions ActionsView;
}
